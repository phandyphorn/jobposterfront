"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[299],{2299:function(e,a,t){t.r(a),t.d(a,{default:function(){return Pe}});var r=t(3396);function l(e,a,t,l,s,o){const i=(0,r.up)("userProfile");return(0,r.wg)(),(0,r.j4)(i)}t(7658);var s=t(7139),o=t(9242),i=t(8222),n=t(5673),d=t(1989),u=t(4353);const c={class:"bg-gray-100 animate__animated animate__fadeIn"},m={class:"container mx-auto my-5 p-5"},p={class:"md:flex no-wrap md:-mx-2"},g={class:"w-full md:w-3/12 md:mx-2"},f={class:"bg-white p-3 border-t-4 border-green-400 ml-3",style:{height:"51vh"}},h={class:"image overflow-hidden"},b={key:0,class:"h-60 w-auto mx-auto",src:i},w=["src"],y={key:2,class:"h-60 w-auto mx-auto",src:n},x={key:3,class:"h-60 w-auto mx-auto",src:d},v={key:4,class:"h-60 w-auto mx-auto",src:u},_={class:"block"},k=(0,r._)("span",{class:"sr-only"},"Upload Picture",-1),P={class:"w-full md:w-9/12 mx-2 h-72"},N={class:"bg-white p-5 shadow-sm rounded-sm w-full"},z=(0,r._)("div",{class:"flex items-center space-x-2 font-semibold text-gray-900 leading-8"},[(0,r._)("span",{clas:"text-green-500"},[(0,r._)("svg",{class:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])]),(0,r._)("span",{class:"tracking-wide"},"About")],-1),E={class:"text-gray-700"},C={class:"grid md:grid-cols-2 text-sm"},D={class:"grid grid-cols-2"},B=(0,r._)("div",{class:"px-4 py-2 font-semibold"},"Full Name",-1),S={class:"px-4 py-2"},U={class:"grid grid-cols-2"},F=(0,r._)("div",{class:"px-4 py-2 font-semibold"},"Gender",-1),q={key:0,class:"px-4 py-2"},I={class:"grid grid-cols-2"},M=(0,r._)("div",{class:"px-4 py-2 font-semibold"},"Phone Number",-1),j=["href","data-tip"],V={key:1,class:"px-4 py-2"},Z={class:"grid grid-cols-2"},L=(0,r._)("div",{class:"px-4 py-2 font-semibold"},"Company Name",-1),A={key:0,class:"px-4 py-2"},G={key:1,class:"px-4 py-2"},O={class:"grid grid-cols-2"},R=(0,r._)("div",{class:"px-4 py-2 font-semibold"},"Email.",-1),T={class:"px-4 py-2"},$=["href","data-tip"],H={class:"w-full flex justify-start items-start"},J=(0,r._)("label",{for:"my-modal-3",class:"btn modal-button lg:mt-16 lg:mb-2"},"Edit Profile",-1),K=(0,r._)("input",{type:"checkbox",id:"my-modal-3",class:"modal-toggle"},null,-1),Q={class:"modal w-full",id:"formEdit"},W={class:"modal-box lg:w-3/5 max-w-5xl w-11/12"},X=(0,r._)("h3",{class:"text-lg font-bold mb-4"},"Edit your profile ",-1),Y={class:"grid grid-cols-2 gap-4 mt-2"},ee={class:"relative z-0 mb-6 w-full group"},ae={key:0,class:"text-red-500 text-xs"},te={class:"relative z-0 mb-6 w-full group"},re=(0,r._)("label",{for:"floating_email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"}," Company Name",-1),le={class:"grid grid-cols-2 gap-4 mt-2"},se={class:"relative z-0 mb-6 w-full group"},oe=(0,r._)("label",{for:"floating_email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"}," Gender (Male or Female)",-1),ie={class:"relative z-0 mb-6 w-full group"},ne=(0,r._)("label",{for:"floating_email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"}," Phone Number",-1),de={class:"grid grid-cols-1 gap-4 mt-2"},ue={class:"relative z-0 mb-6 w-full group"},ce={key:0,class:"text-red-500 text-xs"},me={class:"flex justify-between items-baseline"},pe={key:1,type:"submit",class:"btn bg-gray-600 text-white loading px-7 py-3 rounded-md"},ge={key:2,type:"button",class:"text-white bg-gray-600 px-5 py-3 rounded-md grid grid-cols-2"},fe=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 ml-4 fill-white",viewBox:"0 0 512 512"},[(0,r._)("path",{d:"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1);function he(e,a,t,l,i,n){return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",m,[(0,r._)("div",p,[(0,r._)("div",g,[(0,r._)("div",f,[(0,r._)("div",h,[null==i.img&&"Admine"==i.role?((0,r.wg)(),(0,r.iD)("img",b)):null!=i.img?((0,r.wg)(),(0,r.iD)("img",{key:1,class:"h-60 w-auto mx-auto",src:i.img},null,8,w)):null==i.img&&"F"==i.gender?((0,r.wg)(),(0,r.iD)("img",y)):null==i.img&&"M"==i.gender?((0,r.wg)(),(0,r.iD)("img",x)):null==i.img&&"Other"==i.gender?((0,r.wg)(),(0,r.iD)("img",v)):(0,r.kq)("",!0)]),(0,r._)("label",_,[k,(0,r._)("input",{type:"file",onChange:a[0]||(a[0]=(...e)=>n.onFileChange&&n.onFileChange(...e)),enctype:"multipart/form-data",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)])])]),(0,r._)("div",P,[(0,r._)("div",N,[z,(0,r._)("div",E,[(0,r._)("div",C,[(0,r._)("div",D,[B,(0,r._)("div",S,(0,s.zw)(i.fname),1)]),(0,r._)("div",U,[F,null!=i.gender?((0,r.wg)(),(0,r.iD)("div",q,(0,s.zw)(i.gender),1)):(0,r.kq)("",!0)]),(0,r._)("div",I,[M,null!=i.phoneNumber?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"text-blue-800 hover:underline hover:underline-offset-3 lg:mr-24 mr-7 hover:text-blue-500 tooltip",href:"tel:+855"+i.phoneNumber,"data-tip":"Click to call "+i.fname},(0,s.zw)(i.phoneNumber),9,j)):((0,r.wg)(),(0,r.iD)("div",V,"...."))]),(0,r._)("div",Z,[L,null!=i.companyName?((0,r.wg)(),(0,r.iD)("div",A,(0,s.zw)(i.companyName),1)):((0,r.wg)(),(0,r.iD)("div",G,"...."))]),(0,r._)("div",O,[R,(0,r._)("div",T,[(0,r._)("a",{class:"text-blue-800 hover:underline hover:underline-offset-3 tooltip",href:"mailto:"+i.email,"data-tip":"Click to mail to "+i.fname},(0,s.zw)(i.email),9,$)])])])]),(0,r._)("div",H,[J,K,(0,r._)("div",Q,[(0,r._)("div",W,[(0,r._)("label",{for:"my-modal-3",class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:a[1]||(a[1]=e=>(n.getUserData(),i.showBtnProgress=!1,i.showBtnSave=!1,i.showBtnSaved=!1))},"âœ•"),X,(0,r._)("form",{onSubmit:a[9]||(a[9]=(0,o.iM)(((...a)=>e.hideFormEditPf&&e.hideFormEditPf(...a)),["prevent"])),class:"w-full"},[(0,r._)("div",Y,[(0,r._)("div",ee,[(0,r.wy)((0,r._)("input",{type:"text",name:"floating_email",id:"floating_email",class:(0,s.C_)([{"border-red-500 focus:border-red-600":n.validationEditPf(i.fname),"focus:border-blue-600":!n.validationEditPf(i.fname)},"capitalize block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 peer"]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.fname=e),placeholder:" ",required:""},null,2),[[o.nr,i.fname]]),(0,r._)("label",{for:"floating_email",class:(0,s.C_)([{"text-red-500 peer-focus:text-red-500":n.validationEditPf(i.fname),"peer-focus:text-blue-600":!n.validationEditPf(i.fname)},"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"])},"Full name",2),n.validationEditPf(i.fname)?((0,r.wg)(),(0,r.iD)("span",ae,"First name must be more than 2 letters")):(0,r.kq)("",!0)]),(0,r._)("div",te,[(0,r.wy)((0,r._)("input",{type:"text",name:"floating_email",id:"floating_email",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer","onUpdate:modelValue":a[3]||(a[3]=e=>i.companyName=e),placeholder:" "},null,512),[[o.nr,i.companyName]]),re])]),(0,r._)("div",le,[(0,r._)("div",se,[(0,r.wy)((0,r._)("input",{type:"text",name:"floating_email",id:"floating_email",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer capitalize","onUpdate:modelValue":a[4]||(a[4]=e=>i.gender=e),placeholder:" ",required:""},null,512),[[o.nr,i.gender]]),oe]),(0,r._)("div",ie,[(0,r.wy)((0,r._)("input",{type:"text",name:"floating_email",id:"floating_email",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer","onUpdate:modelValue":a[5]||(a[5]=e=>i.phoneNumber=e),placeholder:" "},null,512),[[o.nr,i.phoneNumber]]),ne])]),(0,r._)("div",de,[(0,r._)("div",ue,[(0,r.wy)((0,r._)("input",{type:"email",name:"floating_email",id:"floating_email",class:(0,s.C_)(["block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 peer",{"border-red-500 focus:border-red-600":n.validationEmail(i.email),"focus:border-blue-600":!n.validationEmail(i.email)}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.email=e),placeholder:" ",required:""},null,2),[[o.nr,i.email]]),(0,r._)("label",{for:"floating_email",class:(0,s.C_)([{"text-red-500 peer-focus:text-red-500 ":n.validationEmail(i.email),"text-gray-500 peer-focus:text-blue-600":!n.validationEmail(i.email)},"peer-focus:font-medium absolute text-sm dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"])}," Email",2),n.validationEmail(i.email)?((0,r.wg)(),(0,r.iD)("span",ce," Email must be email format ")):(0,r.kq)("",!0)])]),(0,r._)("div",me,[(0,r._)("div",null,[i.showBtnSave?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,type:"submit",class:"text-white flex px-12 py-3 bg-gray-600 rounded-md",onClick:a[7]||(a[7]=e=>n.updateProfile())}," Save")),i.showBtnProgress?((0,r.wg)(),(0,r.iD)("button",pe,"Saving")):(0,r.kq)("",!0),i.showBtnSaved?((0,r.wg)(),(0,r.iD)("button",ge,[fe,(0,r.Uk)(" Saved ")])):(0,r.kq)("",!0)]),(0,r._)("p",{onClick:a[8]||(a[8]=e=>this.$router.push("/changePassword")),class:"text-sm hover:underline hover:underline-offset-1 text-blue-500 cursor-pointer"}," Change your password?")])],32)])])])])])])])])}var be=t(70),we={data(){return{showBtnProgress:!1,showBtnSave:!1,showBtnSaved:!1,img:"",fname:"",lname:"",gender:"",phoneNumber:"",companyName:"",bd:"",email:"",address:"",newPassword:"",oldPassword:"",role:""}},methods:{getUserData(){be.ZP.get("http://54.169.143.212/api/getUser/"+localStorage.getItem("userId")).then((e=>{this.fname=this.capitalize(e.data.fullName),this.gender=e.data.gender,this.img=e.data.img,this.email=e.data.email,this.address=e.data.address,this.phoneNumber=e.data.phoneNumber,this.companyName=e.data.companyName,this.role=e.data.role}))},capitalize(e){return e[0].toUpperCase()+e.substring(1,e.length).toLowerCase()},onFileChange(e){const a=e.target.files[0];this.img=URL.createObjectURL(a),this.updateImg(a)},updateProfile(){if(!this.validationEditPf(this.fname)&&!this.validationEmail(this.email)){this.showBtnSave=!this.showBtnSave,this.showBtnProgress=!this.showBtnProgress;var e={fullName:this.fname,gender:this.gender,email:this.email,phoneNumber:this.phoneNumber,companyName:this.companyName};be.ZP.put("http://54.169.143.212/api/user/"+localStorage.getItem("userId")+"/",e).then((e=>{"updated"==e.data.msg&&(this.showBtnSaved=!this.showBtnSaved,this.showBtnProgress=!this.showBtnProgress,this.showBtnSave=!0,location.reload())})).catch((()=>{this.getUserData()}))}},updateImg(e){var a=new FormData;a.append("img",e),a.append("_method","PUT"),be.ZP.post("http://54.169.143.212/api/updateImg/"+localStorage.getItem("userId")+"/",a).then((()=>{location.reload()}))},validationEditPf(e){return""==e.trim()||e.length<2},validationEmail(e){return""==e.trim()||e.length<12||e.search("@")>e.search("gmail")||-1==e.search("@")||-1==e.search("gmail")}},mounted(){this.getUserData()}},ye=t(7477);const xe=(0,ye.Z)(we,[["render",he]]);var ve=xe,_e={components:{userProfile:ve}};const ke=(0,ye.Z)(_e,[["render",l]]);var Pe=ke}}]);
//# sourceMappingURL=299.8f388c9e.js.map